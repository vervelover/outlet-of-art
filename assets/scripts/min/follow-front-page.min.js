jQuery(document).ready(function(o){new class{constructor(){this.events()}events(){o(".follow-box").on("click",this.ourClickDispatcher.bind(this))}ourClickDispatcher(t){var l=o(t.target).closest(".follow-box");"yes"==l.attr("data-exists")?this.deleteFollow(l):this.createFollow(l)}createFollow(t){o.ajax({beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",followedArtistsData.nonce)},url:followedArtistsData.root_url+"/wp-json/followartist/v1/manageFollow",type:"POST",data:{artistId:t.data("artist")},success:function(l){o(".follow-box").attr("data-exists","yes");var e=parseInt(t.find(".follow-count").html(),10);e++,t.find(".follow-count").html(e),t.attr("data-follow",l),console.log(l)},error:function(o){console.log(o)}})}deleteFollow(t){o.ajax({beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",followedArtistsData.nonce)},url:followedArtistsData.root_url+"/wp-json/followartist/v1/manageFollow",data:{follow:t.attr("data-follow")},type:"DELETE",success:function(l){o(".follow-box").attr("data-exists","no");var e=parseInt(t.find(".follow-count").html(),10);e--,t.find(".follow-count").html(e),t.attr("data-follow",""),console.log(l)},error:function(o){console.log(o)}})}}});