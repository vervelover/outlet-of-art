jQuery(document).ready(function(t){new class{constructor(){this.events()}events(){t(".like-box").on("click",this.ourClickDispatcher.bind(this))}ourClickDispatcher(e){var a=t(e.target).closest(".like-box");"yes"==a.attr("data-exists")?this.deleteLike(a):this.createLike(a)}createLike(e){t.ajax({beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",likeartworksData.nonce)},url:likeartworksData.root_url+"/wp-json/likeartworks/v1/manageLike",type:"POST",data:{artworkId:e.data("artwork")},success:function(t){e.attr("data-exists","yes");var a=parseInt(e.find(".like-count").html(),10);a++,e.find(".like-count").html(a),e.attr("data-like",t),e.find(".like-tooltiptext").html(likeartworksData.itemRemoveText)},error:function(t){console.log(t)}})}deleteLike(e){t.ajax({beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",likeartworksData.nonce)},url:likeartworksData.root_url+"/wp-json/likeartworks/v1/manageLike",data:{like:e.attr("data-like")},type:"DELETE",success:function(t){e.attr("data-exists","no");var a=parseInt(e.find(".like-count").html(),10);a--,e.find(".like-count").html(a),e.attr("data-like",""),e.find(".like-tooltiptext").html(likeartworksData.itemAddText)},error:function(t){console.log(t)}})}}});